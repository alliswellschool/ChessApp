<div class="container">
	<div class="navbar">
		<div class="nav-content">
			<h3>â™” Chess Activities</h3>

			<!-- Desktop Navigation -->
			<ul class="desktop-nav">
				<li><a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">Home</a></li>
				<li class="dropdown" [class.open]="dropdownOpen">
					<a class="dropdown-toggle" (click)="toggleDropdown(); $event.stopPropagation()">About â–¾</a>
					<ul class="dropdown-menu" *ngIf="dropdownOpen">
						<li><a routerLink="/about-school" routerLinkActive="active" (click)="closeDropdown()">Our School</a></li>
						<li><a routerLink="/coaches" routerLinkActive="active" (click)="closeDropdown()">Our Coaches</a></li>
						<li><a routerLink="/testimonials" routerLinkActive="active" (click)="closeDropdown()">Testimonials</a></li>
						<li><a routerLink="/gallery" routerLinkActive="active" (click)="closeDropdown()">Gallery</a></li>
						<li><a routerLink="/classes" routerLinkActive="active" (click)="closeDropdown()">Classes</a></li>
					</ul>
				</li>
				<li><a routerLink="/chess-lab" routerLinkActive="active">Chess Lab</a></li>
				<li><a routerLink="/books" routerLinkActive="active">Books</a></li>
				<li *ngIf="authService.isAuthenticated()"><a routerLink="/quiz" routerLinkActive="active">Quiz</a></li>
				<li *ngIf="authService.isAdmin()"><a routerLink="/admin" routerLinkActive="active">Admin</a></li>
				<li><a routerLink="/donate" routerLinkActive="active" class="donate-link">â˜• Donate</a></li>
			</ul>

			<!-- User Info -->
			<div class="user-info" *ngIf="authService.currentUser() && authService.userProfile()">
				<div class="user-avatar">
					{{ authService.userProfile()!.displayName.charAt(0).toUpperCase() }}
				</div>
				<div class="user-details">
					<p class="user-name">{{ authService.userProfile()!.displayName }}</p>
					<span class="user-role" [class.admin]="authService.isAdmin()">
						{{ authService.isAdmin() ? 'ðŸ‘‘ Admin' : 'ðŸ‘¤ User' }}
					</span>
				</div>
			</div>

			<!-- Auth Buttons (Desktop) -->
			<div class="auth-buttons desktop-auth">
				<ng-container *ngIf="!authService.isAuthenticated()">
					<a routerLink="/login" class="btn-auth btn-login">Login</a>
					<a routerLink="/signup" class="btn-auth btn-signup">Sign Up</a>
				</ng-container>
				<ng-container *ngIf="authService.isAuthenticated()">
					<button (click)="logout()" class="btn-auth btn-logout">Logout</button>
				</ng-container>
			</div>

			<!-- Mobile Menu Toggle -->
			<button class="mobile-menu-toggle" (click)="toggleMobileMenu()" [class.open]="mobileMenuOpen">
				<span></span>
				<span></span>
				<span></span>
			</button>
		</div>

		<!-- Mobile Menu Dropdown -->
		<div class="mobile-menu" [class.open]="mobileMenuOpen">
			<ul>
				<li><a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" (click)="closeMobileMenu()">Home</a></li>
				<li class="mobile-section-header">About Us</li>
				<li class="mobile-submenu-item"><a routerLink="/about-school" routerLinkActive="active" (click)="closeMobileMenu()">Our School</a></li>
				<li class="mobile-submenu-item"><a routerLink="/coaches" routerLinkActive="active" (click)="closeMobileMenu()">Our Coaches</a></li>
				<li class="mobile-submenu-item"><a routerLink="/testimonials" routerLinkActive="active" (click)="closeMobileMenu()">Testimonials</a></li>
				<li class="mobile-submenu-item"><a routerLink="/gallery" routerLinkActive="active" (click)="closeMobileMenu()">Gallery</a></li>
				<li class="mobile-submenu-item"><a routerLink="/classes" routerLinkActive="active" (click)="closeMobileMenu()">Classes</a></li>
				<li class="mobile-section-divider"></li>
				<li><a routerLink="/chess-lab" routerLinkActive="active" (click)="closeMobileMenu()">Puzzles</a></li>
				<li><a routerLink="/books" routerLinkActive="active" (click)="closeMobileMenu()">Books</a></li>
				<li *ngIf="authService.isAuthenticated()"><a routerLink="/quiz" routerLinkActive="active" (click)="closeMobileMenu()">Quiz</a></li>
				<li><a routerLink="/donate" routerLinkActive="active" class="donate-link" (click)="closeMobileMenu()">â˜• Donate</a></li>
				<li *ngIf="authService.isAdmin()"><a routerLink="/admin" routerLinkActive="active" (click)="closeMobileMenu()">Admin</a></li>
			</ul>
			<div class="mobile-auth-buttons">
				<ng-container *ngIf="!authService.isAuthenticated()">
					<a routerLink="/login" class="btn-auth btn-login" (click)="closeMobileMenu()">Login</a>
					<a routerLink="/signup" class="btn-auth btn-signup" (click)="closeMobileMenu()">Sign Up</a>
				</ng-container>
				<ng-container *ngIf="authService.isAuthenticated()">
					<button (click)="logout()" class="btn-auth btn-logout">Logout</button>
				</ng-container>
			</div>
		</div>
	</div>
	<div class="main-content">
		<router-outlet></router-outlet>
	</div>
	
	<!-- Footer -->
	<footer class="footer">
		<div class="footer-content">
			<div class="footer-section">
				<h4>â™” Chess Activities</h4>
				<p>Master chess through interactive puzzles, quizzes, and training activities.</p>
			</div>
			
			<div class="footer-section">
				<h4>Quick Links</h4>
				<ul>
					<li><a routerLink="/">Home</a></li>
					<li><a routerLink="/classes">Classes</a></li>
				<li><a routerLink="/chess-lab">Puzzles</a></li>
					<li><a routerLink="/books">Books</a></li>
					<li><a routerLink="/donate">Donate</a></li>
				</ul>
			</div>
			
			<div class="footer-section">
				<h4>About</h4>
				<ul>
					<li><a routerLink="/about-school">Our School</a></li>
					<li><a routerLink="/coaches">Coaches</a></li>
					<li><a routerLink="/testimonials">Testimonials</a></li>
					<li><a routerLink="/gallery">Gallery</a></li>
					<li><a routerLink="/contact">Contact</a></li>
				</ul>
			</div>
			
			<div class="footer-section">
				<h4>Legal</h4>
				<ul>
					<li><a routerLink="/terms">Terms of Service</a></li>
					<li><a routerLink="/privacy">Privacy Policy</a></li>
				</ul>
			</div>
			
			<div class="footer-section">
				<h4>Support</h4>
				<p>Questions? Email us:</p>
				<a href="mailto:support@chessactivities.com">support&#64;chessactivities.com</a>
			</div>
		</div>
		
		<div class="footer-bottom">
			<p>&copy; {{ currentYear }} Chess Activities. All rights reserved.</p>
		</div>
	</footer>
</div>